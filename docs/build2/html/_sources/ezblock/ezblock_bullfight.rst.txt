闘牛
==============

PiCar-Xが怒った雄牛に変身！ ハンカチなどの赤い布を用意して、闘牛士になりきりましょう。 PiCar-Xが赤い布を追うときは、ぶつからないように注意！

.. note::

    このプロジェクトは、先行するプロジェクトよりも進んでいます。 PiCar-X は、色検出機能を使用してカメラを赤い布に向け、さらにカメラが向いている方向に車体の向きを変えて追いかけます。

**TIPS**

.. image:: img/sp210512_174650.png

**color detection [red]** ブロックを **Start** ブロックに追加して、PiCar-Xのカメラが赤い色をターゲットとして探すようにすることから始めます。  **forever** ループ・ブロックで、検出された色の **[width] of detected color** ブロックを追加して、入力を **object detection** グリッドに変換します。

.. image:: img/sp210512_174807.png

「object detection」は、カメラ画像の中心点に基づいて検出されたターゲットの座標を (x, y) 値で出力します。
以下に示すように、画面は 3x3 グリッドに分割されます。
したがって、赤い布がカメラの画像の左上にある場合、(x, y) 座標は (-1, 1) になります。

.. image:: img/sp210512_174956.png

「object detection」は検出されたターゲットの幅と高さを検出します。
複数のターゲットが識別された場合、最大のターゲットの寸法が記録されます。

**例：**

.. note::

    * 次の例を参考にしてプログラムを作成してください。またチュートリアルを参照してください。: :ref:`ezblock:create_project_latest`.
    * またはEzBlock Studioの **Examples** 画面から「 **Bullfight** 」を探し **Run** か **Edit** を直接クリックしてください。

.. image:: img/sp210512_175519.png
    :width: 800